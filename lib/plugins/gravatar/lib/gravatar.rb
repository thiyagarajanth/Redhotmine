require 'digest/md5'
require 'cgi'
require 'rest_client'
require 'dalli'

module GravatarHelper

  # These are the options that control the default behavior of the public
  # methods. They can be overridden during the actual call to the helper,
  # or you can set them in your environment.rb as such:
  #
  #   # Allow racier gravatars
  #   GravatarHelper::DEFAULT_OPTIONS[:rating] = 'R'
  #
  DEFAULT_OPTIONS = {
      # The URL of a default image to display if the given email address does
      # not have a gravatar.
      :default => nil,

      # The default size in pixels for the gravatar image (they're square).
      :size => 50,

      # The maximum allowed MPAA rating for gravatars. This allows you to
      # exclude gravatars that may be out of character for your site.
      :rating => 'PG',

      # The alt text to use in the img tag for the gravatar.  Since it's a
      # decorational picture, the alt text should be empty according to the
      # XHTML specs.
      :alt => '',

      # The title text to use for the img tag for the gravatar.
      :title => '',

      # The class to assign to the img tag for the gravatar.
      :class => 'gravatar',

      # Whether or not to display the gravatars using HTTPS instead of HTTP
      :ssl => false,
  }

  # The methods that will be made available to your views.
  module PublicMethods

    # Return the HTML img tag for the given user's gravatar. Presumes that 
    # the given user object will respond_to "email", and return the user's
    # email address.
    def gravatar_for(user, options={})
      gravatar(user.email, options)
    end

    # Return the HTML img tag for the given email address's gravatar.
    def gravatar(email, options={})
      src = h(gravatar_url(email, options))
      options = DEFAULT_OPTIONS.merge(options)
      options[:width]="42"
      options[:height]="42"
      [:class, :alt, :title,:width,:height].each { |opt| options[opt] = h(options[opt]) }
      image_tag src, options
    end

    # Returns the base Gravatar URL for the given email hash. If ssl evaluates to true,
    # a secure URL will be used instead. This is required when the gravatar is to be 
    # displayed on a HTTPS site.
    def gravatar_api_url(hash, ssl=false,o_email)

      user = User.find_by_mail(o_email)
      find_employee_id= UserOfficialInfo.find_by_user_id(user.id)
      key = Redmine::Configuration['iserv_api_key']
      # p url = "https://iservstaging.objectfrontier.com/services/employees/#{find_employee_id.employee_id}/avatar"

      url="#{Redmine::Configuration['iserv_base_url']}/services/employees/#{find_employee_id.employee_id rescue '0000'}/avatar"
      dc = Dalli::Client.new

      if !dc.get("#{find_employee_id.employee_id rescue '0000'}").present?
      response = RestClient::Request.new(:method => :get,:url => url, :headers => {:"Auth-key" => key},:verify_ssl => false).execute
      @base_64_encode = Base64.encode64(response).gsub("\n", '')
      # options = { :namespace => "app_v1", :compress => true }
      if @base_64_encode.present?

      dc.set("#{find_employee_id.employee_id rescue '0000'}", @base_64_encode)
      @base_64_encode = dc.get("#{find_employee_id.employee_id rescue '0000'}")

      end
      else
        @base_64_encode = dc.get("#{find_employee_id.employee_id rescue '0000'}")
      end

      if @base_64_encode.present?
        if ssl
          "data:image/png;base64,#{@base_64_encode}"
          # "data:image/png;base64,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".to_s
        else
          "data:image/png;base64,#{@base_64_encode}"
          # "data:image/png;base64,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".to_s
        end
      else
        "data:image/png;base64,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"
      end

    end

    # Return the gravatar URL for the given email address.
    def gravatar_url(email, options={})
      email_hash = Digest::MD5.hexdigest(email)
      options = DEFAULT_OPTIONS.merge(options)
      options[:default] = CGI::escape(options[:default]) unless options[:default].nil?
      gravatar_api_url(email_hash, options.delete(:ssl),email).tap do |url|
        opts = []
        # [:rating, :size, :default].each do |opt|
        #   unless options[opt].nil?
        #     value = h(options[opt])
        #     opts << [opt, value].join('=')
        #   end
        # end
        # url << "?#{opts.join('&')}" unless opts.empty?
        url
      end
    end

  end

end
